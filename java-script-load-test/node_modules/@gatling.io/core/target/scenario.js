"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.scenario = void 0;
const jvm_types_1 = require("@gatling.io/jvm-types");
const population_1 = require("./population");
const structure_1 = require("./structure");
const wrapScenarioBuilder = (jvmScenarioBuilder) => ({
    injectOpen: (...steps) => (0, population_1.wrapPopulationBuilder)(jvmScenarioBuilder.injectOpen(steps.map((s) => s._underlying))),
    injectClosed: (...steps) => (0, population_1.wrapPopulationBuilder)(jvmScenarioBuilder.injectClosed(steps.map((s) => s._underlying))),
    ...(0, structure_1.structureBuilderImpl)(jvmScenarioBuilder, wrapScenarioBuilder)
});
/**
 * Create a new immutable Scenario builder
 *
 * @param name - the scenario name
 * @returns a new Scenario builder
 */
const scenario = (name) => {
    const jvmScenarioBuilder = jvm_types_1.CoreDsl.scenario(name);
    return wrapScenarioBuilder(jvmScenarioBuilder);
};
exports.scenario = scenario;
