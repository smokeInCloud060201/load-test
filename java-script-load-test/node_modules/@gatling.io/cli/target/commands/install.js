"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const options_1 = require("./options");
const dependencies_1 = require("../dependencies");
const log_1 = require("../log");
exports.default = (program) => {
    program
        .command("install")
        .description("Install all required components and dependencies for Gatling")
        .addOption(options_1.gatlingHomeOption)
        .addArgument(options_1.bundleFileArgument)
        .action(async (bundleFilePath, options) => {
        const gatlingHome = (0, options_1.gatlingHomeOptionValueWithDefaults)(options);
        const { graalvmHome, jvmClasspath } = bundleFilePath !== undefined
            ? await (0, dependencies_1.installBundleFile)({ gatlingHome, bundleFilePath })
            : await (0, dependencies_1.resolveBundle)({ gatlingHome });
        log_1.logger.info(`graalvmHome=${graalvmHome}`);
        log_1.logger.info(`jvmClasspath=${jvmClasspath}`);
    });
};
